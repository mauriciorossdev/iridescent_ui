import{r as n}from"./iframe--q0H8gQd.js";var f={exports:{}},m={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h;function P(){if(h)return m;h=1;var y=Symbol.for("react.transitional.element"),d=Symbol.for("react.fragment");function c(p,o,a){var l=null;if(a!==void 0&&(l=""+a),o.key!==void 0&&(l=""+o.key),"key"in o){a={};for(var r in o)r!=="key"&&(a[r]=o[r])}else a=o;return o=a.ref,{$$typeof:y,type:p,key:l,ref:o!==void 0?o:null,props:a}}return m.Fragment=d,m.jsx=c,m.jsxs=c,m}var w;function q(){return w||(w=1,f.exports=P()),f.exports}var C=q();const T=(y={})=>{const{enableAccelerometer:d=!0,enableGyroscope:c=!0,enableOrientation:p=!0,enableProximity:o=!1,enableLight:a=!1,threshold:l=.1}=y,[r,u]=n.useState({acceleration:{x:null,y:null,z:null},orientation:{alpha:null,beta:null,gamma:null},gyroscope:{x:null,y:null,z:null},proximity:null,light:null}),[i,g]=n.useState({accelerometer:!1,gyroscope:!1,orientation:!1,proximity:!1,light:!1}),[S,x]=n.useState(!1);n.useEffect(()=>{(()=>{g({accelerometer:"Accelerometer"in window,gyroscope:"Gyroscope"in window,orientation:"DeviceOrientationEvent"in window,proximity:"ProximitySensor"in window,light:"AmbientLightSensor"in window})})()},[]),n.useEffect(()=>{if(!d||!i.accelerometer)return;let e=null;return(async()=>{try{"Accelerometer"in window&&(e=new Accelerometer({frequency:60}),e.addEventListener("reading",()=>{u(t=>({...t,acceleration:{x:e.x,y:e.y,z:e.z}}))}),e.start())}catch(t){console.warn("AcelerÃ³metro no disponible:",t)}})(),()=>{e&&e.stop()}},[d,i.accelerometer]),n.useEffect(()=>{if(!c||!i.gyroscope)return;let e=null;return(async()=>{try{"Gyroscope"in window&&(e=new Gyroscope({frequency:60}),e.addEventListener("reading",()=>{u(t=>({...t,gyroscope:{x:e.x,y:e.y,z:e.z}}))}),e.start())}catch(t){console.warn("Giroscopio no disponible:",t)}})(),()=>{e&&e.stop()}},[c,i.gyroscope]),n.useEffect(()=>{if(!p||!i.orientation)return;const e=s=>{u(t=>({...t,orientation:{alpha:s.alpha,beta:s.beta,gamma:s.gamma}}))};return window.addEventListener("deviceorientation",e),()=>{window.removeEventListener("deviceorientation",e)}},[p,i.orientation]),n.useEffect(()=>{if(!o||!i.proximity)return;let e=null;return(async()=>{try{"ProximitySensor"in window&&(e=new ProximitySensor,e.addEventListener("reading",()=>{u(t=>({...t,proximity:e.distance}))}),e.start())}catch(t){console.warn("Sensor de proximidad no disponible:",t)}})(),()=>{e&&e.stop()}},[o,i.proximity]),n.useEffect(()=>{if(!a||!i.light)return;let e=null;return(async()=>{try{"AmbientLightSensor"in window&&(e=new AmbientLightSensor,e.addEventListener("reading",()=>{u(t=>({...t,light:e.illuminance}))}),e.start())}catch(t){console.warn("Sensor de luz no disponible:",t)}})(),()=>{e&&e.stop()}},[a,i.light]);const v=n.useCallback(()=>{const{acceleration:e}=r;return e.x===null||e.y===null||e.z===null?!1:Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2)+Math.pow(e.z,2))>l},[r,l]),E=n.useCallback(()=>{const{orientation:e}=r;return e.beta===null||e.gamma===null?{x:0,y:0}:{x:e.gamma,y:e.beta}},[r]),b=n.useCallback(()=>r.proximity!==null&&r.proximity<5,[r.proximity]),k=n.useCallback(()=>r.light===null?"unknown":r.light<10?"dark":r.light<100?"dim":r.light<1e3?"normal":"bright",[r.light]),A=n.useCallback(()=>{const{acceleration:e}=r;if(e.x===null||e.y===null)return{x:0,y:0,intensity:0};const s=Math.max(-1,Math.min(1,e.x/10)),t=Math.max(-1,Math.min(1,e.y/10)),L=Math.sqrt(s**2+t**2),M=Math.min(1,L),R=s*25,z=t*25;return{x:R,y:z,intensity:M}},[r.acceleration]);return{sensorData:r,isSupported:i,isActive:S,detectMotion:v,detectTilt:E,isNear:b,getLightLevel:k,getShadowDirection:A,start:()=>x(!0),stop:()=>x(!1)}};export{C as j,T as u};

import{r as n}from"./iframe-DdWMEbBA.js";var y={exports:{}},d={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h;function L(){if(h)return d;h=1;var f=Symbol.for("react.transitional.element"),p=Symbol.for("react.fragment");function c(m,o,s){var l=null;if(s!==void 0&&(l=""+s),o.key!==void 0&&(l=""+o.key),"key"in o){s={};for(var t in o)t!=="key"&&(s[t]=o[t])}else s=o;return o=s.ref,{$$typeof:f,type:m,key:l,ref:o!==void 0?o:null,props:s}}return d.Fragment=p,d.jsx=c,d.jsxs=c,d}var w;function k(){return w||(w=1,y.exports=L()),y.exports}var z=k();const P=(f={})=>{const{enableAccelerometer:p=!0,enableGyroscope:c=!0,enableOrientation:m=!0,enableProximity:o=!1,enableLight:s=!1,threshold:l=.1}=f,[t,u]=n.useState({acceleration:{x:null,y:null,z:null},orientation:{alpha:null,beta:null,gamma:null},gyroscope:{x:null,y:null,z:null},proximity:null,light:null}),[i,g]=n.useState({accelerometer:!1,gyroscope:!1,orientation:!1,proximity:!1,light:!1}),[S,x]=n.useState(!1);n.useEffect(()=>{(()=>{g({accelerometer:"Accelerometer"in window,gyroscope:"Gyroscope"in window,orientation:"DeviceOrientationEvent"in window,proximity:"ProximitySensor"in window,light:"AmbientLightSensor"in window})})()},[]),n.useEffect(()=>{if(!p||!i.accelerometer)return;let e=null;return(async()=>{try{"Accelerometer"in window&&(e=new Accelerometer({frequency:60}),e.addEventListener("reading",()=>{u(r=>({...r,acceleration:{x:e.x,y:e.y,z:e.z}}))}),e.start())}catch(r){console.warn("AcelerÃ³metro no disponible:",r)}})(),()=>{e&&e.stop()}},[p,i.accelerometer]),n.useEffect(()=>{if(!c||!i.gyroscope)return;let e=null;return(async()=>{try{"Gyroscope"in window&&(e=new Gyroscope({frequency:60}),e.addEventListener("reading",()=>{u(r=>({...r,gyroscope:{x:e.x,y:e.y,z:e.z}}))}),e.start())}catch(r){console.warn("Giroscopio no disponible:",r)}})(),()=>{e&&e.stop()}},[c,i.gyroscope]),n.useEffect(()=>{if(!m||!i.orientation)return;const e=a=>{u(r=>({...r,orientation:{alpha:a.alpha,beta:a.beta,gamma:a.gamma}}))};return window.addEventListener("deviceorientation",e),()=>{window.removeEventListener("deviceorientation",e)}},[m,i.orientation]),n.useEffect(()=>{if(!o||!i.proximity)return;let e=null;return(async()=>{try{"ProximitySensor"in window&&(e=new ProximitySensor,e.addEventListener("reading",()=>{u(r=>({...r,proximity:e.distance}))}),e.start())}catch(r){console.warn("Sensor de proximidad no disponible:",r)}})(),()=>{e&&e.stop()}},[o,i.proximity]),n.useEffect(()=>{if(!s||!i.light)return;let e=null;return(async()=>{try{"AmbientLightSensor"in window&&(e=new AmbientLightSensor,e.addEventListener("reading",()=>{u(r=>({...r,light:e.illuminance}))}),e.start())}catch(r){console.warn("Sensor de luz no disponible:",r)}})(),()=>{e&&e.stop()}},[s,i.light]);const v=n.useCallback(()=>{const{acceleration:e}=t;return e.x===null||e.y===null||e.z===null?!1:Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2)+Math.pow(e.z,2))>l},[t,l]),E=n.useCallback(()=>{const{orientation:e}=t;return e.beta===null||e.gamma===null?{x:0,y:0}:{x:e.gamma,y:e.beta}},[t]),b=n.useCallback(()=>t.proximity!==null&&t.proximity<5,[t.proximity]),A=n.useCallback(()=>t.light===null?"unknown":t.light<10?"dark":t.light<100?"dim":t.light<1e3?"normal":"bright",[t.light]);return{sensorData:t,isSupported:i,isActive:S,detectMotion:v,detectTilt:E,isNear:b,getLightLevel:A,start:()=>x(!0),stop:()=>x(!1)}};export{z as j,P as u};
